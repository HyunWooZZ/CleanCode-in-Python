### 이 장의 주로 봐야할 내용
1. 애자일 소프트웨어 개발 방법론에서 자동화된 테스트가 중요한 이유
2. 단위 테스트가 코드 품질에 대한 거울이 되는 이유
3. 자동화된 테스트와 품질 게이트를 설정하기 위한 프레임워크와 도구
4. 단위 테스트가 문서화와 도메인 문제의 깊은 이해에 도움을 주는 이유
5. TDD

### 디자인 원칙과 단위 테스트
단위 테스트: 다른 코드의 일부분이 유효한지 검사하는 코드 => 일반 비즈니스 로직과 동일한 수준으로 다뤄져야함.

#### 단위 테스트가 갖는 특징
격리(isolation): 단위 테스트는 다른 외부 에이전트와 완전히 독립적이어야 하며, 비즈니스 로직에만 집중해야 함. 때문에 데이터베이스에 연결하지 않아야 하고, HTTP 요청도 하지 않아야 함. 격리는 테스트 자체가 독립적이라는 것을 의미 => 이전 상태와 관계없이 임의의 순서로 실행될 수 있어야 함.

성능(performance): 단위 테스트는 신속하게 실행되어야 함. 반복적으로 여러 번 실행될 수 있도록 설계해야함.

반복 가능성(repeatablilaty): 단위 테스트는 객관적이고 결정적인 방식으로 소프트웨어의 상태르르 평가할 수 있어야 함. 테스트에서 얻은 결과가 반복 가능해야 함을 의미. 테스트 실패시 코드가 수정될 때까지 계속 실패해야 함. 항상 테스트 결과가 랜덤하게 출력되면 안됨.

자체 검증(self-validating): 단위 테스트의 실행만으로 결과를 결정할 수 있어야 함. 단위 테스트를 처리하기 위한 추가 단계가 없어야 함.

### 자동화된 테스트의 다른 형태
통합 테스트: 한 번에 여러 컴포넌트를 테스트 => 종합적으로 예상대로 잘 동작하는지 검증
외부 인터넷 의존선을 mocking 하도록 할 수 있음.

인수 테스트: 사용자 관점에서 시스템 유효성을 검사하는 자동화된 테스트

테스트도 좋지만 실용성이 절대 떨어지면 안됨!!!!

### 단위 테스트와 애자일 소프트웨어 개발
최근 개발 트렌드 가능한 신속하고 지속적으로 가치를 제공하려고 노력함. => 빠르게 피드백을 받아 더 쉽게 코드를 수정하려고 노력하는 중

성당과 시장 모델
성당: 소수의 개발자 기여 + 출시에만 소스코드 공개
시장: 소스코드가 일반에 공개된 상태로 개발 시작  => 일찍 그리고 자주 발표하라.

코드 자체로는 변경 사항에 대해 충분히 유연하다는 것을 보장할 수 없음!! => 공식적인 증거가 필요하다.
단위 테스트는 이런 내용을 보장할 수 있음.

단위테스트는 초기에 정말 많은 노력이 들어가지만, 시간이 지나면 지날 수록 효율적으로 개발이 진행되므로 궁극적으로 개발 속도도 향상 시킴.

### 단위 테스트와 소프트웨어 디자인
좋은 소프트웨어의 핵심 가치는 테스트 가능한 소프트웨어!!!
테스트의 용이성은 클린코드의 핵심가치임

테스트의 경계를 정하는 것은 매우 종요함 => 무엇을 테스트할 줄 모르면 끝없이 테스트를 해야하고 뚜렷한 결실 없이 시간만 낭비하는 결과를 얻게 됨. 구체적으로 외부 라이브러리나 모듈과 같은 의존성은 호출되는지만 체크하는 것이 중요함. 의존성의 의존성을 체크하게 될 수도 있음.







